{"ast":null,"code":"var _jsxFileName = \"C:\\\\work\\\\myplusplus\\\\cloudfunction\\\\my-move\\\\frontend\\\\my-move-client-portal\\\\src\\\\components\\\\PaymentForm.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PaymentForm = () => {\n  _s();\n  const paymentFormRef = useRef(null);\n  useEffect(() => {\n    const script = document.createElement('script');\n    script.src = 'https://sandbox-checkout.peachpayments.com/js/checkout.js';\n    script.async = true;\n    script.onload = initializeCheckout;\n    document.body.appendChild(script);\n    return () => {\n      document.body.removeChild(script);\n    };\n  }, []);\n  const initializeCheckout = () => {\n    const checkout = window.Checkout.initiate({\n      key: '8ac7a4c890471fc4019049646796017a',\n      checkoutId: 'b6d67d765ba648c396d9be6ec4a9f834',\n      events: {\n        onCompleted: event => handleEvent('completed', event),\n        onCancelled: event => handleEvent('cancelled', event),\n        onExpired: event => handleEvent('expired', event)\n      },\n      options: {\n        theme: {\n          brand: {\n            primary: \"#ff0000\"\n          },\n          cards: {\n            background: \"#00ff00\",\n            backgroundHover: \"#F3F3F4\"\n          }\n        },\n        ordering: {\n          APPLEPAY: 1,\n          CARD: 2\n        }\n      }\n    });\n    checkout.render(\"#payment-form\");\n  };\n  const handleEvent = (status, event) => {\n    console.log(`${status.charAt(0).toUpperCase() + status.slice(1)}:`, event);\n    let apiEndpoint;\n    switch (status) {\n      case 'completed':\n        apiEndpoint = 'https://zgcwdz5icg.execute-api.af-south-1.amazonaws.com/dev/notifications';\n        break;\n      case 'cancelled':\n        apiEndpoint = 'https://ivnktw46c6.execute-api.af-south-1.amazonaws.com/dev/cancelledCheckout';\n        break;\n      case 'expired':\n        apiEndpoint = 'https://zgcwdz5icg.execute-api.af-south-1.amazonaws.com/dev/notifications';\n        break;\n      default:\n        console.error('Unknown event status:', status);\n        return;\n    }\n    axios.post(apiEndpoint, {\n      status: status,\n      event: event\n    }).then(response => {\n      console.log('API response:', response);\n    }).catch(error => {\n      console.error('API error:', error);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"payment-form\",\n    ref: paymentFormRef\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 79,\n    columnNumber: 10\n  }, this);\n};\n_s(PaymentForm, \"lJxfMxh1ysXQwd0Be5+OqwxIl4M=\");\n_c = PaymentForm;\nexport default PaymentForm;\nvar _c;\n$RefreshReg$(_c, \"PaymentForm\");","map":{"version":3,"names":["React","useEffect","useRef","axios","jsxDEV","_jsxDEV","PaymentForm","_s","paymentFormRef","script","document","createElement","src","async","onload","initializeCheckout","body","appendChild","removeChild","checkout","window","Checkout","initiate","key","checkoutId","events","onCompleted","event","handleEvent","onCancelled","onExpired","options","theme","brand","primary","cards","background","backgroundHover","ordering","APPLEPAY","CARD","render","status","console","log","charAt","toUpperCase","slice","apiEndpoint","error","post","then","response","catch","id","ref","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/work/myplusplus/cloudfunction/my-move/frontend/my-move-client-portal/src/components/PaymentForm.js"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst PaymentForm = () => {\r\n  const paymentFormRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    const script = document.createElement('script');\r\n    script.src = 'https://sandbox-checkout.peachpayments.com/js/checkout.js';\r\n    script.async = true;\r\n    script.onload = initializeCheckout;\r\n    document.body.appendChild(script);\r\n\r\n    return () => {\r\n      document.body.removeChild(script);\r\n    };\r\n  }, []);\r\n\r\n  const initializeCheckout = () => {\r\n    const checkout = window.Checkout.initiate({\r\n      key: '8ac7a4c890471fc4019049646796017a', \r\n      checkoutId: 'b6d67d765ba648c396d9be6ec4a9f834',\r\n      events: {\r\n        onCompleted: (event) => handleEvent('completed', event),\r\n        onCancelled: (event) => handleEvent('cancelled', event),\r\n        onExpired: (event) => handleEvent('expired', event),\r\n      },\r\n      options: {\r\n        theme: {\r\n          brand: {\r\n            primary: \"#ff0000\",\r\n          },\r\n          cards: {\r\n            background: \"#00ff00\",\r\n            backgroundHover: \"#F3F3F4\",\r\n          }\r\n        },\r\n        ordering: {\r\n          APPLEPAY: 1,\r\n          CARD: 2,\r\n        },\r\n      },\r\n    });\r\n\r\n    checkout.render(\"#payment-form\");\r\n  };\r\n\r\n  const handleEvent = (status, event) => {\r\n    console.log(`${status.charAt(0).toUpperCase() + status.slice(1)}:`, event);\r\n\r\n    let apiEndpoint;\r\n    switch (status) {\r\n      case 'completed':\r\n        apiEndpoint = 'https://zgcwdz5icg.execute-api.af-south-1.amazonaws.com/dev/notifications';\r\n        break;\r\n      case 'cancelled':\r\n        apiEndpoint = 'https://ivnktw46c6.execute-api.af-south-1.amazonaws.com/dev/cancelledCheckout';\r\n        break;\r\n      case 'expired':\r\n        apiEndpoint = 'https://zgcwdz5icg.execute-api.af-south-1.amazonaws.com/dev/notifications';\r\n        break;\r\n      default:\r\n        console.error('Unknown event status:', status);\r\n        return;\r\n    }\r\n\r\n    axios.post(apiEndpoint, {\r\n      status: status,\r\n      event: event,\r\n    })\r\n    .then(response => {\r\n      console.log('API response:', response);\r\n    })\r\n    .catch(error => {\r\n      console.error('API error:', error);\r\n    });\r\n  };\r\n\r\n  return <div id=\"payment-form\" ref={paymentFormRef}></div>;\r\n};\r\n\r\nexport default PaymentForm;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}